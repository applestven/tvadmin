## 后台管理系统 （自己使用的面板）

Nuxt 3 + Ant Design Vue Pro + tailwindcss + typescript

Nuxt 3 在「内网 / 公网双 API 切换 + 服务端转发 + 自用后台」场景下，比 Next.js 更稳、更省心

## 一共有两个项目 一个下载项目 一个转译项目

服务器路径分别为 
http://43.139.236.50:8686/tv
http://43.139.236.50:8686/dv

内网请求路径为
http://192.168.191.168:6789   tv-api
http://192.168.191.168:3456   dv-api

考虑到 43.139.236.50:8686 未备案 访问会失败 就会使用 内网请求路径 

使用转发需要兼容配置写法

## api文档

[dv-api](./dv.json)
[tv-api](./tv.yaml)

## 页面需求 

### 首页 
1. 网站访问量  
2. 视频下载数量  成功/失败个数 下载使用流量大小  统计不同服务器本地视频文件大小 
3. 视频转译总数  成功/失败个数  正在转译的队列 

### 下载管理

列表接口 ： 将所有的条件进行筛选查询


### 转译管理

列表接口 ： 将所有的条件进行筛选查询

### 日志管理 

主要是页面布局 

container  - 类似于监控 - 
只有一个打开的时候占满  有两个的时候对半分 ； 有三个的时候四等分 ；有五个的时候六等分 ；有七个的时候九等分 最多 12 等分  ； 
每个右上交有x按钮 实际打开的是下面对应的服务器地址
footer -- 名称  日志地址  列表  ； 点击打开按钮  刷新按钮 刷新时间 ；  


## 项目结构  推荐可扩展
admin-panel/
├── server/
│   ├── api/
│   │   ├── tv/
│   │   │   └── [...].ts          # TV API 转发
│   │   ├── dv/
│   │   │   └── [...].ts          # DV API 转发
│   │   └── health.ts             # 健康检查（判断公网是否可用）
│   ├── utils/
│   │   ├── proxy.ts              # 统一代理逻辑
│   │   ├── network-checker.ts    # 网络状态检测
│   │   └── config.ts             # 服务器配置
│
├── composables/
│   ├── useApi.ts                 # 通用 API 封装
│   ├── useTvApi.ts
│   ├── useDvApi.ts
│   └── useNetworkStatus.ts       # 网络状态监控
│
├── pages/
│   ├── index.vue                 # 仪表板
│   ├── download/
│   │   ├── index.vue             # 下载管理列表
│   │   └── [id].vue              # 下载详情
│   ├── transcode/
│   │   ├── index.vue             # 转译管理列表
│   │   └── [id].vue              # 转译详情
│   ├── logs/
│   │   └── index.vue             # 日志监控页面
│
├── components/
│   ├── layout/
│   │   ├── LogContainer.vue      # 日志容器组件
│   │   └── DashboardLayout.vue
│   ├── charts/
│   │   ├── TrafficChart.vue
│   │   └── StatsCards.vue
│
├── types/
│   ├── api.d.ts                  # API 类型定义
│   ├── tv.d.ts                   # TV API 类型
│   ├── dv.d.ts                   # DV API 类型
│
├── utils/
│   ├── api-client.ts             # API 客户端
│   ├── error-handler.ts          # 错误处理
│
├── assets/
│   ├── styles/
│   │   └── tailwind.css
│
└── nuxt.config.ts


浏览器永远只访问 Nuxt 自己

所有 API 由 Nuxt Server 统一转发

自动处理：

公网可用 → 走公网

这正是 Nuxt 3 比 Next.js 省心的地方。
